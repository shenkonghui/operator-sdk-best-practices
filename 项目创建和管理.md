

## 项目创建

#### 创建项目



创建一个项目命名为 example-operator,，如果路径不在gopath，需要声明一下你的自定义repo

```
operator-sdk new example-operator --repo my/example-operator
```



#### 创建api与controller



创建api group 为 app.example.com、版本为v1alpha1、类型为AppService.

创建controller与api格式相同

```
cd example-operator


operator-sdk add api --api-version=app.example.com/v1alpha1 --kind=AppService

operator-sdk add controller --api-version=app.example.com/v1alpha1 --kind=AppService
```





#### 部署

生成镜像hello-world:v0.1、并提交到镜像仓库.

修改deploy/operator.yaml的镜像为生成的镜像

```
operator-sdk build hello-world:v0.1
docker push hello-world:v0.1

kubectl apply -f deploy/crds/xxx_crds.yaml

kubectl apply -f deploy

```







